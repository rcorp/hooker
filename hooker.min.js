(function(){function g(a,b){if(null==a||"object"!=typeof a||a.constructor!=Object&&a.constructor!=Array)return a;if(a.constructor==Date||a.constructor==RegExp||a.constructor==Function||a.constructor==String||a.constructor==Number||a.constructor==Boolean)return new a.constructor(a);b=b||new a.constructor;for(var c in a)b[c]="undefined"==typeof b[c]?g(a[c],null):b[c];return b}var e=this;e._hookers={};var d={trigger:function(a,b){for(var c=[b],d=e._hookers[a],f=0;f<d.length;f++)c[f]=g(b,{}),b=d[f].callback.apply(d[f]._this,
[b,g(c,[])])},register:function(a,b,c){e._hookers[a]=e._hookers[a]||[];e._hookers[a].push({callback:b,_this:c})}};"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=d:"function"===typeof define&&define.amd?define([],function(){return d}):e.hooker=d})();