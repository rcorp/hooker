!function(){function a(b,c){if(null==b||"object"!=typeof b)return b;if(b.constructor!=Object&&b.constructor!=Array)return b;if(b.constructor==Date||b.constructor==RegExp||b.constructor==Function||b.constructor==String||b.constructor==Number||b.constructor==Boolean)return new b.constructor(b);c=c||new b.constructor;for(var d in b)c[d]="undefined"==typeof c[d]?a(b[d],null):c[d];return c}var b=this;b._hookers={};var c={};c.trigger=function(d,e){var f=[e],g=b._hookers[d];if("undefined"!=typeof g)for(var h=0;h<g.length;h++)f[h]=a(e,{}),e=g[h].callback.apply(g[h]._this,[e,a(f,[])]);return c},c.register=function(a,d,e){return b._hookers[a]=b._hookers[a]||[],b._hookers[a].push({callback:d,_this:e}),c},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=c:"function"==typeof define&&define.amd?define([],function(){return c}):b.hooker=c}();